<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Fullscreen Slides with Progress</title>
<style>
  :root { --progress-height: 8px; --bg: #000; --progress-color:#bd9d5c; }
  html,body { height:100%; margin:0; background:var(--bg); overflow:hidden; font-family: Arial, Helvetica, sans-serif; }

  .open-btn { position: absolute; top: 20px; left: 20px; z-index:11000; padding:10px 16px; border-radius:8px;
             background:#fff; border:none; cursor:pointer; font-weight:600; }

  .slideshow {
    display:none;
    position:fixed; inset:0; z-index:10000;
    background:#000; align-items:center; justify-content:center; overflow:hidden;
  }
  .slideshow img {
    width:100%; height:100%; object-fit:contain; border-radius:0;
    user-select:none; -webkit-user-drag:none;
  }

  .progress-track {
    position: absolute;
    top: 0; left: 0; width: 100%; height: var(--progress-height);
    background: rgba(255,255,255,0.06);
    z-index: 11001;
  }
  .progress-bar {
    height: 100%;
    width: 0%;
    background: var(--progress-color);
    transition: width 220ms ease;
  }

  .popup {
    position: absolute;
    bottom: 48px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(20,20,20,0.92);
    color: #fff;
    padding: 12px 18px;
    border-radius: 10px;
    font-size: 16px;
    z-index: 11002;
    opacity: 0;
    pointer-events: none;
    transition: opacity 220ms ease;
    display:flex; gap:.6rem; align-items:center;
  }
  .popup.show { opacity: 1; pointer-events:auto; }
  .hint-emoji { background:#fff1; padding:6px; border-radius:6px; display:inline-block; }

  /* Rotate hint overlay */
  #rotateHint {
    position: fixed;
    top:0; left:0; right:0; bottom:0;
    background: rgba(0,0,0,0.85);
    color:#fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    text-align: center;
    z-index:12000;
    padding: 20px;
    display: none;
  }
  #rotateHint .phone-icon {
    font-size: 50px;
    margin-bottom: 20px;
    animation: wiggle 1s infinite alternate;
  }

  @keyframes wiggle {
    0% { transform: rotate(-10deg); }
    50% { transform: rotate(10deg); }
    100% { transform: rotate(-10deg); }
  }

  @media (max-width:720px){
    .popup { font-size:14px; padding:10px 14px; bottom: 36px; }
    .open-btn { top:12px; left:12px; padding:8px 12px; }
    #rotateHint { font-size:18px; }
    #rotateHint .phone-icon { font-size:40px; }
  }
</style>
</head>
<body>

<button class="open-btn" onclick="openSlideshow()">Open Slides</button>

<div id="slideshow" class="slideshow" role="dialog" aria-modal="true" aria-label="Slide viewer">
  <div class="progress-track"><div id="progressBar" class="progress-bar"></div></div>
  <img id="slideImage" src="" alt="Slide" draggable="false" />
  <div id="popup" class="popup" role="status" aria-live="polite">
    <span class="hint-emoji">‚¨ÖÔ∏è‚û°Ô∏è</span>
    <span>Use your arrow keys to watch the story</span>
  </div>
</div>

<!-- Rotate hint -->
<div id="rotateHint">
  <div class="phone-icon">üì±</div>
  <div>Please rotate your device to <strong>landscape</strong> for the best experience ‚¨ÖÔ∏è‚û°Ô∏è</div>
</div>

<script>
const slides = [
  "/Resources/The Most Insane Music Artist Brand Collaborations/slide1.jpg",
  "/Resources/The Most Insane Music Artist Brand Collaborations/slide2.jpg",
  "/Resources/The Most Insane Music Artist Brand Collaborations/slide3.jpg",
  "/Resources/The Most Insane Music Artist Brand Collaborations/slide4.jpg",
  "/Resources/The Most Insane Music Artist Brand Collaborations/slide5.jpg",
  "/Resources/The Most Insane Music Artist Brand Collaborations/slide6.jpg",
  "/Resources/The Most Insane Music Artist Brand Collaborations/slide7.jpg",
  "/Resources/The Most Insane Music Artist Brand Collaborations/slide8.jpg",
  "/Resources/The Most Insane Music Artist Brand Collaborations/slide9.jpg",
  "/Resources/The Most Insane Music Artist Brand Collaborations/slide10.jpg",
  "/Resources/The Most Insane Music Artist Brand Collaborations/slide11.jpg",
];
// preload
slides.forEach(src => { const i = new Image(); i.src = src; });

const slideshow = document.getElementById('slideshow');
const slideImage = document.getElementById('slideImage');
const progressBar = document.getElementById('progressBar');
const popup = document.getElementById('popup');
const rotateHint = document.getElementById('rotateHint');

let currentIndex = 0;
let isOpen = false;

function updateProgressBar() {
  const percent = Math.round(((currentIndex + 1) / slides.length) * 100);
  progressBar.style.width = percent + '%';
}

function showSlide(index) {
  if (window.innerHeight > window.innerWidth) return; // don't show slide in portrait
  if (index < 0) index = slides.length - 1;
  if (index >= slides.length) index = 0;
  currentIndex = index;
  slideImage.src = slides[currentIndex];
  updateProgressBar();
  if (currentIndex === 0) {
    popup.classList.add('show');
    clearTimeout(popup._hideTimeout);
    popup._hideTimeout = setTimeout(() => popup.classList.remove('show'), 3000);
  } else {
    popup.classList.remove('show');
    clearTimeout(popup._hideTimeout);
  }
}

function openSlideshow(startIndex = 0) {
  isOpen = true;
  slideshow.style.display = 'flex';
  document.body.style.overflow = 'hidden';
  setTimeout(() => { showSlide(startIndex); }, 10);
}

// Close slideshow
function closeSlideshow() {
  isOpen = false;
  slideshow.style.display = 'none';
  document.body.style.overflow = '';
}

// Keyboard navigation
document.addEventListener('keydown', (e) => {
  if (!isOpen) return;
  if (e.key === 'ArrowRight') { showSlide(currentIndex + 1); e.preventDefault(); }
  else if (e.key === 'ArrowLeft') { showSlide(currentIndex - 1); e.preventDefault(); }
  else if (e.key === 'Escape') { closeSlideshow(); }
});

// Click anywhere to next
slideshow.addEventListener('click', (ev) => {
  if (ev.target === popup || popup.contains(ev.target)) return;
  showSlide(currentIndex + 1);
});

// Show rotate hint
function checkOrientation() {
  if(window.innerHeight > window.innerWidth){ // portrait
    rotateHint.style.display = 'flex';
    slideshow.style.display = 'none';
  } else {
    rotateHint.style.display = 'none';
    if(isOpen) slideshow.style.display = 'flex';
  }
}
window.addEventListener('load', checkOrientation);
window.addEventListener('resize', checkOrientation);
window.addEventListener('orientationchange', checkOrientation);
</script>
</body>
</html>
